{"version":3,"sources":["./src/app/history/history.module.ts","./src/app/history/history.page.scss","./src/app/history/history.page.ts","./src/app/history/history.page.html","./src/app/history/history-routing.module.ts"],"names":[],"mappings":"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","file":"history-history-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HistoryPageRoutingModule } from './history-routing.module';\nimport { RecordComponent } from '../component/record/record.component';\nimport { HistoryPage } from './history.page';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { httpLoaderFactory } from '../app.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HistoryPageRoutingModule,\n    TranslateModule.forChild({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: httpLoaderFactory,\n        deps: [HttpClient]\n      }\n    }),\n  ],\n  declarations: [HistoryPage, RecordComponent]\n})\nexport class HistoryPageModule {}\n","export default \".dark-gb {\\n  --ion-background-color: #08415C !important;\\n}\\n\\nion-toolbar {\\n  --background: #08415C;\\n}\\n\\n.logoHeader {\\n  background: #08415C;\\n  position: absolute;\\n  width: 100%;\\n  left: 0;\\n  bottom: 0;\\n  padding-bottom: 10px;\\n  text-align: center;\\n}\\n\\n.header {\\n  color: #08415C;\\n  text-align: center;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n}\\n\\n.records {\\n  display: block;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.noentries {\\n  text-align: center;\\n}\\n\\n.dropdown {\\n  display: block;\\n  margin-left: 20px;\\n  margin-right: 20px;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n/* ion-icon{\\n  font-size: 128px !important;\\n}\\n\\n.sc-ion-buttons-md-s ion-icon[slot=icon-only]{\\n  // font-size: 128px !important;\\n}# */\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2hpc3RvcnkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksMENBQUE7QUFDSjs7QUFDRTtFQUNFLHFCQUFBO0FBRUo7O0FBQUU7RUFDRSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLE9BQUE7RUFDQSxTQUFBO0VBQ0Esb0JBQUE7RUFDQSxrQkFBQTtBQUdKOztBQURFO0VBQ0UsY0FBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQUlKOztBQUZFO0VBQ0UsY0FBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7QUFLSjs7QUFGRTtFQUNFLGtCQUFBO0FBS0o7O0FBRkU7RUFDRSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7QUFLSjs7QUFIRTs7Ozs7O0lBQUEiLCJmaWxlIjoiaGlzdG9yeS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGFyay1nYntcclxuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICMwODQxNUMgIWltcG9ydGFudDtcclxuICB9XHJcbiAgaW9uLXRvb2xiYXJ7XHJcbiAgICAtLWJhY2tncm91bmQ6ICMwODQxNUM7XHJcbiAgfVxyXG4gIC5sb2dvSGVhZGVyIHtcclxuICAgIGJhY2tncm91bmQ6ICMwODQxNUM7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcclxuICAgIHRleHQtYWxpZ246Y2VudGVyO1xyXG4gIH1cclxuICAuaGVhZGVye1xyXG4gICAgY29sb3I6ICAjMDg0MTVDO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG4gICAgcGFkZGluZy1yaWdodDogMTBweDtcclxuICB9XHJcbiAgLnJlY29yZHN7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgIFxyXG4gIH1cclxuICBcclxuICAubm9lbnRyaWVzIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcblxyXG4gIC5kcm9wZG93biB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIH1cclxuICAvKiBpb24taWNvbntcclxuICAgIGZvbnQtc2l6ZTogMTI4cHggIWltcG9ydGFudDtcclxuICB9XHJcbiAgXHJcbiAgLnNjLWlvbi1idXR0b25zLW1kLXMgaW9uLWljb25bc2xvdD1pY29uLW9ubHlde1xyXG4gICAgLy8gZm9udC1zaXplOiAxMjhweCAhaW1wb3J0YW50O1xyXG4gIH0jICovIl19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { DetailsPage } from '../details/details.page';\r\nimport { StressSignatue } from '../interface/stress-signature';\r\nimport { ApiService } from '../services/api.service';\r\n\r\n@Component({\r\n  selector: 'app-history',\r\n  templateUrl: './history.page.html',\r\n  styleUrls: ['./history.page.scss'],\r\n})\r\nexport class HistoryPage implements OnInit {\r\n  filter: string;\r\n  filters = [] as StressSignatue[];\r\n  constructor(public api: ApiService,\r\n              private modalController: ModalController) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewDidEnter(){\r\n    this.filter = 'wk';\r\n  }\r\n\r\n  changeFilter() {\r\n    switch (this.filter) {\r\n      case 'wk': {\r\n        this.filters = [] as StressSignatue[];\r\n        const date = new Date();\r\n        date.setDate(date.getDate() - 7);\r\n        for (const item of this.api.allSignatures) {\r\n          if (item.timeStamp >= date.getTime()) {\r\n            this.filters.push(item);\r\n          }\r\n        }\r\n        break;\r\n      }\r\n      case 'mm': {\r\n        this.filters = [] as StressSignatue[];\r\n        const date = new Date();\r\n        date.setDate(date.getDate() - 28);\r\n        for (const item of this.api.allSignatures) {\r\n          if (item.timeStamp >= date.getTime()) {\r\n            this.filters.push(item);\r\n          }\r\n        }\r\n        break;\r\n      }\r\n      case 'year': {\r\n        this.filters = [] as StressSignatue[];\r\n        const date = new Date();\r\n        date.setDate(date.getDate() - 365);\r\n        for (const item of this.api.allSignatures) {\r\n          if (item.timeStamp >= date.getTime()) {\r\n            this.filters.push(item);\r\n          }\r\n        }\r\n        break;\r\n      }\r\n      case 'all': {\r\n        this.filters = this.api.allSignatures;\r\n        break;\r\n      }\r\n      default: {\r\n        this.filters = this.api.allSignatures;\r\n      }\r\n    }\r\n  }\r\n\r\n  openModal(details: any) {\r\n    this.modalController.create({\r\n      component: DetailsPage,\r\n      componentProps: {\r\n        timestamp: details.timeStamp,\r\n        overallScore: details.totalScore,\r\n        domain: JSON.parse(details.scoreCard),\r\n        reflection: details.reflection\r\n      }\r\n    }).then((modalElement) => {\r\n      modalElement.present();\r\n    });\r\n  }\r\n}\r\n","export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <div class=\\\"logoHeader\\\">\\n      <img src=\\\"assets/sstemm-header.png\\\" width=\\\"150px\\\" />\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <h1 class=\\\"header\\\">{{ 'history.title' | translate }}</h1>\\n  <ion-list class=\\\"dropdown\\\">\\n    <ion-item>\\n      <ion-label>{{ 'history.dropdown' | translate }}</ion-label>\\n      <ion-select [(ngModel)]=\\\"filter\\\"  okText=\\\"{{ 'history.ok' | translate }}\\\" cancelText=\\\"{{ 'history.cancel' | translate }}\\\" (ionChange)='changeFilter()'>\\n        <ion-select-option value=\\\"all\\\">{{ 'history.all' | translate }}</ion-select-option>\\n        <ion-select-option value=\\\"wk\\\">{{ 'history.wk' | translate }}</ion-select-option>\\n        <ion-select-option value=\\\"mm\\\">{{ 'history.mm' | translate }}</ion-select-option>\\n        <ion-select-option value=\\\"yy\\\">{{ 'history.yy' | translate }}</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n  </ion-list>\\n  <h3 class=\\\"noentries\\\" *ngIf=\\\"api.displayNoEntries\\\">{{ 'home.none' | translate }}</h3>\\n  <div class=records>\\n  <app-record *ngFor=\\\"let entry of filters\\\" overallScore={{entry.totalScore}} timestamp={{entry.timeStamp}}\\n  [domain]=\\\"entry.domain\\\" (click)=\\\"openModal(entry)\\\">\\n  </app-record>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HistoryPage } from './history.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HistoryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HistoryPageRoutingModule {}\n"],"sourceRoot":"webpack:///"}