{"version":3,"sources":["webpack:///src/app/history/history.module.ts","webpack:///src/app/history/history.page.scss","webpack:///src/app/history/history.page.ts","webpack:///src/app/history/history.page.html","webpack:///src/app/history/history-routing.module.ts"],"names":["HistoryPageModule","imports","forChild","loader","provide","useFactory","deps","declarations","HistoryPage","api","modalController","filters","filter","date","Date","setDate","getDate","allSignatures","item","timeStamp","getTime","push","details","create","component","componentProps","timestamp","overallScore","totalScore","domain","JSON","parse","scoreCard","reflection","then","modalElement","present","selector","template","routes","path","HistoryPageRoutingModule","exports"],"mappings":"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","file":"history-history-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HistoryPageRoutingModule } from './history-routing.module';\nimport { RecordComponent } from '../component/record/record.component';\nimport { HistoryPage } from './history.page';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { httpLoaderFactory } from '../app.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HistoryPageRoutingModule,\n    TranslateModule.forChild({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: httpLoaderFactory,\n        deps: [HttpClient]\n      }\n    }),\n  ],\n  declarations: [HistoryPage, RecordComponent]\n})\nexport class HistoryPageModule {}\n","export default \".dark-gb {\\n  --ion-background-color: #08415C !important;\\n}\\n\\nion-toolbar {\\n  --background: #08415C;\\n}\\n\\n.logoHeader {\\n  background: #08415C;\\n  position: absolute;\\n  width: 100%;\\n  left: 0;\\n  bottom: 0;\\n  padding-bottom: 10px;\\n  text-align: center;\\n}\\n\\n.header {\\n  color: #08415C;\\n  text-align: center;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n}\\n\\n.records {\\n  display: block;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.noentries {\\n  text-align: center;\\n}\\n\\n.dropdown {\\n  display: block;\\n  margin-left: 20px;\\n  margin-right: 20px;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n/* ion-icon{\\n  font-size: 128px !important;\\n}\\n\\n.sc-ion-buttons-md-s ion-icon[slot=icon-only]{\\n  // font-size: 128px !important;\\n}# */\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2hpc3RvcnkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksMENBQUE7QUFDSjs7QUFDRTtFQUNFLHFCQUFBO0FBRUo7O0FBQUU7RUFDRSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLE9BQUE7RUFDQSxTQUFBO0VBQ0Esb0JBQUE7RUFDQSxrQkFBQTtBQUdKOztBQURFO0VBQ0UsY0FBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQUlKOztBQUZFO0VBQ0UsY0FBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7QUFLSjs7QUFGRTtFQUNFLGtCQUFBO0FBS0o7O0FBRkU7RUFDRSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7QUFLSjs7QUFIRTs7Ozs7O0lBQUEiLCJmaWxlIjoiaGlzdG9yeS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGFyay1nYntcclxuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICMwODQxNUMgIWltcG9ydGFudDtcclxuICB9XHJcbiAgaW9uLXRvb2xiYXJ7XHJcbiAgICAtLWJhY2tncm91bmQ6ICMwODQxNUM7XHJcbiAgfVxyXG4gIC5sb2dvSGVhZGVyIHtcclxuICAgIGJhY2tncm91bmQ6ICMwODQxNUM7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcclxuICAgIHRleHQtYWxpZ246Y2VudGVyO1xyXG4gIH1cclxuICAuaGVhZGVye1xyXG4gICAgY29sb3I6ICAjMDg0MTVDO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG4gICAgcGFkZGluZy1yaWdodDogMTBweDtcclxuICB9XHJcbiAgLnJlY29yZHN7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgIFxyXG4gIH1cclxuICBcclxuICAubm9lbnRyaWVzIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcblxyXG4gIC5kcm9wZG93biB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIH1cclxuICAvKiBpb24taWNvbntcclxuICAgIGZvbnQtc2l6ZTogMTI4cHggIWltcG9ydGFudDtcclxuICB9XHJcbiAgXHJcbiAgLnNjLWlvbi1idXR0b25zLW1kLXMgaW9uLWljb25bc2xvdD1pY29uLW9ubHlde1xyXG4gICAgLy8gZm9udC1zaXplOiAxMjhweCAhaW1wb3J0YW50O1xyXG4gIH0jICovIl19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { DetailsPage } from '../details/details.page';\r\nimport { StressSignatue } from '../interface/stress-signature';\r\nimport { ApiService } from '../services/api.service';\r\n\r\n@Component({\r\n  selector: 'app-history',\r\n  templateUrl: './history.page.html',\r\n  styleUrls: ['./history.page.scss'],\r\n})\r\nexport class HistoryPage implements OnInit {\r\n  filter: string;\r\n  filters = [] as StressSignatue[];\r\n  constructor(public api: ApiService,\r\n              private modalController: ModalController) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewDidEnter(){\r\n    this.filter = 'wk';\r\n  }\r\n\r\n  changeFilter() {\r\n    switch (this.filter) {\r\n      case 'wk': {\r\n        this.filters = [] as StressSignatue[];\r\n        const date = new Date();\r\n        date.setDate(date.getDate() - 7);\r\n        for (const item of this.api.allSignatures) {\r\n          if (item.timeStamp >= date.getTime()) {\r\n            this.filters.push(item);\r\n          }\r\n        }\r\n        break;\r\n      }\r\n      case 'mm': {\r\n        this.filters = [] as StressSignatue[];\r\n        const date = new Date();\r\n        date.setDate(date.getDate() - 28);\r\n        for (const item of this.api.allSignatures) {\r\n          if (item.timeStamp >= date.getTime()) {\r\n            this.filters.push(item);\r\n          }\r\n        }\r\n        break;\r\n      }\r\n      case 'year': {\r\n        this.filters = [] as StressSignatue[];\r\n        const date = new Date();\r\n        date.setDate(date.getDate() - 365);\r\n        for (const item of this.api.allSignatures) {\r\n          if (item.timeStamp >= date.getTime()) {\r\n            this.filters.push(item);\r\n          }\r\n        }\r\n        break;\r\n      }\r\n      case 'all': {\r\n        this.filters = this.api.allSignatures;\r\n        break;\r\n      }\r\n      default: {\r\n        this.filters = this.api.allSignatures;\r\n      }\r\n    }\r\n  }\r\n\r\n  openModal(details: any) {\r\n    this.modalController.create({\r\n      component: DetailsPage,\r\n      componentProps: {\r\n        timestamp: details.timeStamp,\r\n        overallScore: details.totalScore,\r\n        domain: JSON.parse(details.scoreCard),\r\n        reflection: details.reflection\r\n      }\r\n    }).then((modalElement) => {\r\n      modalElement.present();\r\n    });\r\n  }\r\n}\r\n","export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <div class=\\\"logoHeader\\\">\\n      <img src=\\\"assets/sstemm-header.png\\\" width=\\\"150px\\\" />\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <h1 class=\\\"header\\\">{{ 'history.title' | translate }}</h1>\\n  <ion-list class=\\\"dropdown\\\">\\n    <ion-item>\\n      <ion-label>{{ 'history.dropdown' | translate }}</ion-label>\\n      <ion-select [(ngModel)]=\\\"filter\\\"  okText=\\\"{{ 'history.ok' | translate }}\\\" cancelText=\\\"{{ 'history.cancel' | translate }}\\\" (ionChange)='changeFilter()'>\\n        <ion-select-option value=\\\"all\\\">{{ 'history.all' | translate }}</ion-select-option>\\n        <ion-select-option value=\\\"wk\\\">{{ 'history.wk' | translate }}</ion-select-option>\\n        <ion-select-option value=\\\"mm\\\">{{ 'history.mm' | translate }}</ion-select-option>\\n        <ion-select-option value=\\\"yy\\\">{{ 'history.yy' | translate }}</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n  </ion-list>\\n  <h3 class=\\\"noentries\\\" *ngIf=\\\"api.displayNoEntries\\\">{{ 'home.none' | translate }}</h3>\\n  <div class=records>\\n  <app-record *ngFor=\\\"let entry of filters\\\" overallScore={{entry.totalScore}} timestamp={{entry.timeStamp}}\\n  [domain]=\\\"entry.domain\\\" (click)=\\\"openModal(entry)\\\">\\n  </app-record>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HistoryPage } from './history.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HistoryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HistoryPageRoutingModule {}\n"]}